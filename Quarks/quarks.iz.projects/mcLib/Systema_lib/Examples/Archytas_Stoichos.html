<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="1038.35">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Monaco}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Lucida Grande'; color: #dc0000}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 11.0px Monaco; min-height: 15.0px}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Monaco; min-height: 14.0px}
span.s1 {color: #1000d0}
span.s2 {color: #737373}
span.s3 {color: #dc0000}
span.s4 {font: 9.0px Monaco}
span.s5 {color: #008a00}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1">(</p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// Τετρακτύς</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p1">~mese = <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1/|1<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>;</p>
<p class="p1">~octave =<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>2/|1<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>;<span class="Apple-converted-space"> </span></p>
<p class="p1">~fifth = <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>3/|2<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>;</p>
<p class="p1">~forth = <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>4/|3<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>;</p>
<p class="p3"><br></p>
<p class="p1">~tone = ~fifth / ~forth ;</p>
<p class="p1">~leimma = ~forth / ~tone / ~tone ;</p>
<p class="p1">~leimma.info</p>
<p class="p1">);</p>
<p class="p3"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// Pythagorean Tetrachord</p>
<p class="p1">(</p>
<p class="p1">~pythTetra = [<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>~mese,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>~mese / ~tone,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>~mese / (~tone**2),<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>~mese / (~tone**2) / ~leimma<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span>];</p>
<p class="p3"><br></p>
<p class="p1">~pythTetra.do{<span class="s1">|r|</span> (<span class="s2">"\t"</span> + r.info + <span class="s2">"\n"</span>).postln}; <span class="s2">""</span>;<span class="Apple-converted-space"> </span></p>
<p class="p1">);</p>
<p class="p3"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// Lyra of Hermes // συναφή</p>
<p class="p1">(</p>
<p class="p1">~pythSynaphe = <span class="Apple-tab-span">	</span>(~forth * ~pythTetra) ++ ~pythTetra;</p>
<p class="p3"><br></p>
<p class="p1">~pythSynaphe.do{<span class="s1">|r|</span> (<span class="s2">"\t"</span> + r.info + <span class="s2">"\n"</span>).postln}; <span class="s2">""</span>;<span class="Apple-converted-space"> </span></p>
<p class="p1">);</p>
<p class="p3"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// ἁρμονία // διάζευξις</p>
<p class="p1">(</p>
<p class="p1">~pythHarmonia = (~fifth * ~pythTetra) ++ ~pythTetra;</p>
<p class="p3"><br></p>
<p class="p1">~pythHarmonia.do{<span class="s1">|r|</span> (<span class="s2">"\t"</span> + r.info + <span class="s2">"\n"</span>).postln}; <span class="s2">""</span>;<span class="Apple-converted-space"> </span></p>
<p class="p1">);</p>
<p class="p1">~pythHarmonia.first / ~pythHarmonia.last == ~octave; <span class="s3">// test</span></p>
<p class="p1">~pythHarmonia.first * ~pythHarmonia.last == ~tone; <span class="Apple-converted-space">  </span><span class="s3">// test</span></p>
<p class="p3"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// τρόπος</p>
<p class="p1">(</p>
<p class="p1">~tropos = (~fifth * ~pythSynaphe) ++ (~pythSynaphe / ~forth);</p>
<p class="p1">~tropos = ~tropos.asSet.asList.sort{<span class="s1">|a, b|</span> a&gt;b};</p>
<p class="p3"><br></p>
<p class="p1">~tropos.do{<span class="s1">|r|</span> (<span class="s2">"\t"</span> + r.info + <span class="s2">"\n"</span>).postln}; <span class="s2">""</span>;<span class="Apple-converted-space"> </span></p>
<p class="p1">);</p>
<p class="p3"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// two octave system</p>
<p class="p1">(</p>
<p class="p1">~octave2 = ~tropos ++ (~tropos.last / ~tone);</p>
<p class="p3"><br></p>
<p class="p1">~octave2.do{<span class="s1">|r|</span> (<span class="s2">"\t"</span> + r.info + <span class="s2">"\n"</span>).postln}; <span class="s2">""</span>;<span class="Apple-converted-space"> </span></p>
<p class="p1">);</p>
<p class="p3"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// Ἀρχύτου στοίχος</p>
<p class="p1">(</p>
<p class="p1">~base = ~octave2;</p>
<p class="p1">~turned = ~octave2 * (28/|27);</p>
<p class="p1">~flipped = ~octave2 * (16/|15);</p>
<p class="p1">~archStoichos = ~flipped.collect{<span class="s1">|r, i|</span> [r] ++ ~turned[i] ++ ~base[i] };</p>
<p class="p1">~archStoichos.do{<span class="s1">|l|</span> (<span class="s2">"\t"</span> + l.asCompileString + <span class="s2">"\n"</span>).postln}; <span class="s2">""</span>;<span class="Apple-converted-space"> </span></p>
<p class="p3"><br></p>
<p class="p1">~archStoichos = ~archStoichos.flat;</p>
<p class="p1">~archStoichos.do{<span class="s1">|r|</span> (<span class="s2">"\t"</span> + r.info + <span class="s2">""</span>).postln}; <span class="s2">""</span>;<span class="Apple-converted-space"> </span></p>
<p class="p1">);</p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p1">~ext2 = ~archStoichos.select{<span class="s1">|r|</span> ( (r &lt;= (3/|2)) &amp;&amp; (r &gt;= (3/|4)) ) };</p>
<p class="p1">~ext2.do{<span class="s1">|r|</span> (<span class="s2">"\t"</span> + r.info + <span class="s2">"\n"</span>).postln}; <span class="s2">""</span>;<span class="Apple-converted-space"> </span></p>
<p class="p3"><br></p>
<p class="p1">~archStoichos.asCompileString;</p>
<p class="p3"><br></p>
<p class="p1">~archStoichos.size;</p>
<p class="p1">~archStoichos.<span class="s4">indexOfEqual</span>(1/|1);</p>
<p class="p1">~archStoichos.size - ~archStoichos.<span class="s4">indexOfEqual</span>(1/|1);</p>
<p class="p1"><span class="s5">\Sigma</span>.asEncDigit(<span class="s5">\agmIns</span>);</p>
<p class="p1"><span class="s5">\Sigma</span>.asEncDigit(<span class="s5">\agmIns</span>) + 22</p>
<p class="p3"><br></p>
<p class="p4">~archStoichos.do{<span class="s1">|r, i|</span> (<span class="s2">"\t"</span> + r.info + (54-i).asEncUTF8(<span class="s5">\agmIns</span>)).postln}; <span class="s2">""</span>;</p>
<p class="p4">~archStoichos.do{<span class="s1">|r, i|</span> (<span class="s2">"\t"</span> + r.info + (54-i).asEncUTF8(<span class="s5">\agmVoc</span>)).postln}; <span class="s2">""</span>;</p>
<p class="p4">(</p>
<p class="p4">~archStoichos.collect{<span class="s1">|r, i|</span> <span class="s1">var</span> p = 54-i;<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="Apple-tab-span">	</span>(<span class="s2">"\t"</span> + r.info + p.asEncUTF8(<span class="s5">\agmIns</span>) + p.asEncUTF8(<span class="s5">\agmVoc</span>) ).postln}; <span class="s2">""</span>;</p>
<p class="p4">)</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p4">(</p>
<p class="p4">~stepList = ~archStoichos.collect{<span class="s1">|r, i|</span> <span class="s1">var</span> p = 54-i;<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="Apple-tab-span">	</span>[r, p.asEncUTF8(<span class="s5">\agmIns</span>), p.asEncUTF8(<span class="s5">\agmVoc</span>) ] };</p>
<p class="p5"><br></p>
<p class="p4">~stepList.do{<span class="s1">|row|</span> row.postln}; <span class="s2">""</span>;</p>
<p class="p1">)</p>
<p class="p3"><br></p>
<p class="p1">~stepList.asCompileString</p>
<p class="p3"><br></p>
</body>
</html>
