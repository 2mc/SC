<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.54">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #001bec}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p8 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica}
p.p10 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p11 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0000bf}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #000000}
span.s3 {text-decoration: underline}
span.s4 {color: #0049f3}
span.s5 {color: #004ef1}
span.s6 {color: #0034f9}
span.s7 {font: 9.0px Monaco; color: #007300}
span.s8 {font: 9.0px Monaco}
span.s9 {font: 9.0px Monaco; color: #625d39}
span.s10 {font: 9.0px Monaco; color: #5e630e}
span.s11 {color: #0652ef}
span.s12 {color: #007300}
span.s13 {color: #0000bf}
span.s14 {color: #0000bf}
span.s15 {color: #007300}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>BMAbstractMatrix<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>abstract superclass of audio and control matrices</b><span class="s1"><b><span class="Apple-tab-span">	</span></b></span></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>Inherits from: </b><a href="SC://Object"><b>Object</b></a><b> : </b><a href="../Root Classes/BMAbstractAudioChainElement.html"><b>BMAbstractAudioChainElement</b></a></span></p>
<p class="p4"><br></p>
<p class="p1">BMAbstractMatrix is the abstract superclass of all audio and control matrices in the BEASTmulch library. As such some important inherited methods are defined in this class.</p>
<p class="p2"><br></p>
<p class="p1">Matrices map inputs to outputs. In the case of audio matrices this means routing input busses to output busses. In the case of controller matrices this involves mapping controls to control an output; for example BMAmpControlMatrix maps controls to scale the amplitude of signals on audio busses.</p>
<p class="p2"><br></p>
<p class="p1">All subclasses of BMAbstractMatrix fadein and fadeout when connections are made, using the time stored in <b>BMOptions.crossfade</b>. Thus making or breaking connections will not cause glitches.</p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>See also:</b> <a href="../Root Classes/BMAbstractAudioChainElement.html"><span class="s3">BMAbstractAudioChainElement</span></a>, <a href="BMAudioMatrix.html"><span class="s3">BMAudioMatrix</span></a>, <a href="BMAmpControlMatrix.html"><span class="s3">BMAmpControlMatrix</span></a>, <a href="BMAudioMixerMatrix.html"><span class="s3">BMAudioMixerMatrix</span></a>, <a href="../Other/BMOptions.html"><span class="s4">BMOptions</span></a></span></p>
<p class="p2"><br></p>
<p class="p5"><b>Creation / Class Methods</b></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>*new (ins, outs, target, addAction, name)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Create a new matrix.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>ins </b>- An instance of <a href="../Inputs and Outputs/BMInOutArray.html"><span class="s5">BMInOutArray</span></a>. If this is an audio matrix (e.g. BMAudioMatrix) this should contain objects with control rate buses, if it is a controller matrix (e.g. BMAmpControlMatrix) this should contain objects with control rate buses.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>outs </b>- An instance of <a href="../Inputs and Outputs/BMInOutArray.html"><span class="s5">BMInOutArray</span></a>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>target </b>- Target for this object's <a href="SC://Group"><span class="s6">Group</span></a>. If target is not a Group or <a href="SC://Synth"><span class="s6">Synth</span></a>, it will be converted as follows: If it is a <a href="SC://Server"><span class="s6">Server</span></a>, it will be converted to the <a href="SC://default_group"><span class="s6">default_group</span></a> of that server. If it is nil, to the default_group of the default Server. <b>Note: </b>A Synth is not a valid target for <span class="s7">\addToHead</span> and <span class="s7">\addToTail</span>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>addAction </b>- one of the following Symbols:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s7">\addToHead</span><span class="s9"> <span class="Apple-tab-span">	</span></span>- add at the head of the group specified by <b>target</b></p>
<p class="p7"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s10">\addToTail</span><span class="s9"> <span class="Apple-tab-span">	</span></span>- (the default) add at the tail of the group specified by <b>target</b></p>
<p class="p7"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s7">\addAfter</span> <span class="Apple-tab-span">	</span>- add immediately after <b>target </b>in its server's node order</p>
<p class="p7"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s7">\addBefore</span> <span class="Apple-tab-span">	</span>- add immediately before <b>target </b>in its server's node order</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">\addReplace</span> <span class="Apple-tab-span">	</span>- replace <b>target</b> and take its place in its server's node order</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>name </b>- A <a href="SC://Symbol"><span class="s11">Symbol</span></a> indicating the name of this object. If not supplied one will be generated.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p10"><b>Instance Methods</b></p>
<p class="p11"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>connect (input, outputs)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Connect an input to one or more outputs.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>input </b>- A <a href="SC://Symbol"><span class="s5">Symbol</span></a> indicating the name of the input to connect.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>outputs </b>- One or more Symbols indicating the names of the outputs to which the input will be connected.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>disconnect (input, outputs)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Disconnect an input from one or more outputs.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>input </b>- A <a href="SC://Symbol"><span class="s5">Symbol</span></a> indicating the name of the input to disconnect.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>outputs </b>- One or more Symbols indicating the names of the outputs from which the input will be disconnected.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>clear (time)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Clear all connections.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>time </b>- A release (i.e. fadeout) time for this matrix's connecting nodes. Default value is 0.1.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>free</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Clear the matrix and free this object's <b>group</b>. After this the object should not be used.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>mappings</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Returns an <a href="SC://IdentityDictionary"><span class="s5">IdentityDictionary</span></a> containing the current values and labels for this controller, in the form IdentityDictionary[\input1-&gt;List[output1, ...], ...]. Subclasses may override this to include additional parameters.</p>
<p class="p8"><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><b>mappings_ (mappingsDict)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Sets this object's matrix connections.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>mappingsDict </b>- An IdentityDictionary containing the new values and labels for this controller, in the form IdentityDictionary[\input1-&gt;List[output1, ...], ...]. Subclasses may override this to include additional parameters.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>gui</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Creates and returns a BMMatrixMenuGUI using the receiver.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>takesControlsForInputs</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Returns false. Subclasses which do take controls for inputs should override this to return true.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p10"><b>Examples</b></p>
<p class="p4"><br></p>
<p class="p12">// Audio matrix example</p>
<p class="p13">(</p>
<p class="p14">// make a speaker list</p>
<p class="p15">l = [[-30, <span class="s12">'L'</span>], [30, <span class="s12">'R'</span>], [0, <span class="s12">'C'</span>], [-110, <span class="s12">'Ls'</span>], [110, <span class="s12">'Rs'</span>]].collectAs({<span class="s13">|el, i|</span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="s13">BMSpeaker</span>.newFromSpherical(el[1], i, el[0], 0, 2);</p>
<p class="p16"><span class="s2">}, </span>BMInOutArray<span class="s2">);</span></p>
<p class="p13">)</p>
<p class="p4"><br></p>
<p class="p12">// something to route</p>
<p class="p13">(</p>
<p class="p13">b = <span class="s14">Bus</span>.audio(s, 8);</p>
<p class="p13">x = { <span class="s14">Out</span>.ar(b, {<span class="s14">|i|</span> <span class="s14">Ringz</span>.ar(<span class="s14">Dust</span>.ar(3, 0.1), 300 * (i + 1), 2)} ! 8) }.play;</p>
<p class="p13">)</p>
<p class="p4"><br></p>
<p class="p12">// make a matrix</p>
<p class="p13">m = <span class="s14">BMAudioMatrix</span>(b.asBMInOutArray(<span class="s15">\ringzes</span>), l);</p>
<p class="p4"><br></p>
<p class="p12"><span class="s2">s.meter; </span>// so we can watch</p>
<p class="p4"><br></p>
<p class="p13">m.connect(<span class="s15">'ringzes-1'</span>, [<span class="s15">'L'</span>]);</p>
<p class="p4"><br></p>
<p class="p13">m.connect(<span class="s15">'ringzes-2'</span>, [<span class="s15">'L'</span>]);</p>
<p class="p4"><br></p>
<p class="p13">m.connect(<span class="s15">'ringzes-3'</span>, [<span class="s15">'Ls'</span>]);</p>
<p class="p4"><br></p>
<p class="p13">m.disconnect(<span class="s15">'ringzes-1'</span>, [<span class="s15">'L'</span>]);</p>
<p class="p4"><br></p>
<p class="p13">m.connect(<span class="s15">'ringzes-1'</span>, [<span class="s15">'R'</span>]);</p>
<p class="p4"><br></p>
<p class="p13">m.mappings;</p>
<p class="p4"><br></p>
<p class="p12"><span class="s2">m.gui; </span>// Use a GUI. Be sure to click 'View Matrix' for alternate view.</p>
<p class="p4"><br></p>
<p class="p12"><span class="s2">m.clear(3); </span>// fade out connections</p>
<p class="p4"><br></p>
<p class="p13">m.free; b.free; x.free;</p>
</body>
</html>
