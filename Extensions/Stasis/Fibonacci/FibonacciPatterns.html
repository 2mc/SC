<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="1038.29">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #cf0c0c}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #cf0c0c; min-height: 12.0px}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1">Creating patterns that will send the structure of the fibonacci-tree<span class="Apple-converted-space"> </span></p>
<p class="p1">via OSC using automatically generated messages and arguments that reflect the structure of the tree.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1">===== Structure of the tree and its variants</p>
<p class="p2"><br></p>
<p class="p1">There are four variants:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1">The variant pair A1 and A2 is created by incrementing the values in the 'current' branch by 1 at each iteration:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1">A1. Ascending leaf numbers, smaller branches first:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>generated by: <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>next = [prev, current + 1]; prev = current;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>[ [ 1, [ 2, 3 ] ], [ [ 2, 3 ], [ 3, [ 4, 5 ] ] ] ]</p>
<p class="p2"><br></p>
<p class="p1">A2. Descending leaf numbers, larger branches first:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>generated by: <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>next = [current + 1, prev]; prev = current;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>[ [ [ [ 5, 4 ], 3 ], [ 3, 2 ] ], [ [ 3, 2 ], 1 ] ]</p>
<p class="p2"><br></p>
<p class="p1">The variant pair B1 and B2 is created by incrementing the values in the 'current' branch</p>
<p class="p1">*and* the values in the 'prev' branch by 1 at each iteration:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1">B1. Ascending leaf numbers, larger branches first:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>generated by: <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>next = [current, prev + 1]; prev = current + 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>[ [ [ [ 1, 2 ], 3 ], [ 3, 4 ] ], [ [ 3, 4 ], 5 ] ]</p>
<p class="p2"><br></p>
<p class="p1">B2. Descending leaf numbers, smaller branches first:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>generated by:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>next = [prev + 1, current]; prev = current + 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>[ [ 5, [ 4, 3 ] ], [ [ 4, 3 ], [ 3, [ 2, 1 ] ] ] ]</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1">===== Message format:</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1">| type of message <span class="Apple-converted-space">          </span>| format of message<span class="Apple-converted-space">          </span>| argument 1<span class="Apple-converted-space">                      </span>|</p>
<p class="p1">| branch<span class="Apple-converted-space">                    </span>| /[s,l]_[A,B]*_[start|end]<span class="Apple-converted-space">  </span>| length of branch<span class="Apple-converted-space">  </span>in beats<span class="Apple-converted-space">      </span>|</p>
<p class="p1">| leaf<span class="Apple-converted-space">                      </span>| /leaf<span class="Apple-converted-space">                      </span>| value of the leaf <span class="Apple-converted-space">              </span>|</p>
<p class="p1">| beat<span class="Apple-converted-space">                      </span>| /beat<span class="Apple-converted-space">                      </span>| beat count since start of piece |</p>
<p class="p2"><br></p>
<p class="p1">Explanation:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1">- <span class="Apple-tab-span">	</span>"s" and "l" indicate the direction of the generation of the tree as follows:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>- <span class="Apple-tab-span">	</span>"l" if the branches are ordered with the longer one first, (A2 or B1 above)</p>
<p class="p1"><span class="Apple-tab-span">	</span>- <span class="Apple-tab-span">	</span>"s" if they are ordered with the shorter one first (A1 or B2 above).</p>
<p class="p2"><br></p>
<p class="p1">-<span class="Apple-tab-span">	</span>"A" and "B" indicate the branch of the tree as follows:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>- A indicates the first branch in a node of the tree and B the second one.<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span>- A's and B's are repeated to specify subbranches, For example:<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>AB = Branch B of branch A</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>BAA = Branch A of branch A of branch B.<span class="Apple-converted-space"> </span></p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p1">Following diagram shows how labels indicate branches in a tree of 3 branch levels:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1">Level 1: A <span class="Apple-converted-space">                                            </span>B</p>
<p class="p1">Level 2: AA<span class="Apple-converted-space">                        </span>AB<span class="Apple-converted-space">                  </span>BA <span class="Apple-converted-space">        </span>BB</p>
<p class="p1">Level 3: AAA <span class="Apple-converted-space">          </span>AAB <span class="Apple-converted-space">        </span>ABA<span class="Apple-converted-space">        </span>ABB<span class="Apple-converted-space">      </span>BAA<span class="Apple-converted-space">    </span>BAB BBA<span class="Apple-converted-space">  </span>BBB</p>
<p class="p2"><br></p>
<p class="p1">-<span class="Apple-tab-span">	</span>"start" and "end" indicate the start of a branch or end of a branch.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1">// Note: Examples of the full algoirthms for the above are as follows</p>
<p class="p2"><br></p>
<p class="p1">(</p>
<p class="p1">10 do: { | i | Post &lt;&lt; { | n = 1, prev = 1, current = 1 |</p>
<p class="p1"><span class="Apple-tab-span">	</span>var next;</p>
<p class="p1"><span class="Apple-tab-span">	</span>n do: { // ascending, smaller branches first</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>next = [prev, current + 1];</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>prev = current;</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>current = next;</p>
<p class="p1"><span class="Apple-tab-span">	</span>};</p>
<p class="p1"><span class="Apple-tab-span">	</span>current;</p>
<p class="p1">}.(i).asCompileString &lt;&lt; "\n\n";<span class="Apple-converted-space">  </span>}</p>
<p class="p1">)</p>
<p class="p2"><br></p>
<p class="p1">(</p>
<p class="p1">10 do: { | i | Post &lt;&lt; { | n = 1, prev = 1, current = 1 |</p>
<p class="p1"><span class="Apple-tab-span">	</span>var next;</p>
<p class="p1"><span class="Apple-tab-span">	</span>n do: { // ascending, larger branches first;</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>next = [current, prev + 1];<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>prev = current + 1;</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>current = next;</p>
<p class="p1"><span class="Apple-tab-span">	</span>};</p>
<p class="p1"><span class="Apple-tab-span">	</span>current;</p>
<p class="p1">}.(i).asCompileString &lt;&lt; "\n\n";<span class="Apple-converted-space">  </span>}</p>
<p class="p1">)</p>
<p class="p2"><br></p>
<p class="p1">2. &lt;o&gt; is "d" if the order of the numeric values of the leaves of the tree is ascending,<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span>as produced by this version of the algorithm:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1">(</p>
<p class="p1">10 do: { | i | Post &lt;&lt; { | n = 1, prev = 1, current = 1 |</p>
<p class="p1"><span class="Apple-tab-span">	</span>var next;</p>
<p class="p1"><span class="Apple-tab-span">	</span>n do: {<span class="Apple-tab-span">	</span>// descending, smaller branches first</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>next = [prev + 1, current];</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>prev = current + 1;</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>current = next;</p>
<p class="p1"><span class="Apple-tab-span">	</span>};</p>
<p class="p1"><span class="Apple-tab-span">	</span>current;</p>
<p class="p1">}.(i).asCompileString &lt;&lt; "\n\n";<span class="Apple-converted-space">  </span>}</p>
<p class="p1">)</p>
<p class="p2"><br></p>
<p class="p1">(</p>
<p class="p1">10 do: { | i | Post &lt;&lt; { | n = 1, prev = 1, current = 1 |</p>
<p class="p1"><span class="Apple-tab-span">	</span>var next;</p>
<p class="p1"><span class="Apple-tab-span">	</span>n do: {<span class="Apple-tab-span">	</span>// descending, larger branches first</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>next = [current + 1, prev];</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>prev = current;</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>current = next;</p>
<p class="p1"><span class="Apple-tab-span">	</span>};</p>
<p class="p1"><span class="Apple-tab-span">	</span>current;</p>
<p class="p1">}.(i).asCompileString &lt;&lt; "\n\n";<span class="Apple-converted-space">  </span>}</p>
<p class="p1">)</p>
<p class="p2"><br></p>
<p class="p1">Examples:<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1">/start_A_0 0, 0, 0 : Beginning of the first branch at level 1, first beat of piece, first beat of branch, first branch occurrence</p>
<p class="p2"><br></p>
</body>
</html>
